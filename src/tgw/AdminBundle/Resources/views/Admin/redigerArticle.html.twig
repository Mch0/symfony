{% extends "tgwAdminBundle::theme.html.twig" %}

{% block content %}
<div class="container-fluid">
    <div class="col-lg-10">
<h1>Cr√©ation d'un nouvelle article</h1>
        </div>


    <div class="col-lg-10">

{% if article != null %}
<form action="{{ path('tgw_admin_update_article') }}" class="form-horizontal" method="POST">

    <div class="form-group">
        <label for="titre" class="col-lg-1 control-label">Titre :</label>
        <div class="col-lg-3">
            <input type="text" class="form-control" id="titre" name="titre" value="{{ article.getArticleTitre }}">
        </div>
    </div>
    <div class="form-group">
        <label for="auteur" class="col-lg-1 control-label">Auteur :</label>
        <div class="col-lg-4">
            <input type="text" name="auteur" class="form-control" id="auteur" value="{{ article.getArticleAuteur }}"/>
        </div>
    </div>
    <div class="form-group">
    <label for="categorie" class="control-label col-lg-1">Categorie :</label>
        <div class="col-lg-4">
            <input type="text" class="form-control" name="categorie" id="categorie"value="{{ article.getArticleCategorie.getTitre }}">
        </div>
    </div>
    <div class="form-group">
        <div class="col-lg-10">
            <textarea id="contenuArticle" class="form-control" name="contenuArticle" style="width:80%;height:80%">{{ article.getArticleContenu }}</textarea>
        </div>
    </div>
        <div class="form-group">
        <input type="hidden" class="form-control" value="{{ article.getId }}" name="id" id="id">
    </div>
    <input type="submit" value="Enregistrer"/>
</form>


    {% else %}
<form action="{{ path('tgw_admin_creer_article') }}" method="POST">
    <label for="titre">Titre : </label><input type="text" name="titre" id="titre" />
    <br/>
    <label for="auteur">Auteur : </label><input type="text" name="auteur" id="auteur"/>
    <br/>
    <label for="categorie">Categorie : </label>
    <select name="categorie" id="categorie">
        {% for categorie in categories %}
        <option value="{{ categorie.getId }}">{{ categorie.getTitre }}</option>
        {% endfor %}
    </select>
    <textarea id="contenuArticle" name="contenuArticle" ></textarea>
    <input type="submit" value="Enregistrer"/>
</form>
    </div>
</div>
{% endif %}
    <script src="{{ asset('bundles/tgw/js/ckeditor/ckeditor.js') }}" type="text/javascript"></script>
<script type="text/javascript">
    CKEDITOR.replace('contenuArticle');
    CKEDITOR.config.width = '100%';
    CKEDITOR.config.height = '50%';
</script>
{% endblock %}
