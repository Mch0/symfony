{% extends "tgwAdminBundle::theme.html.twig" %}

{% block content %}
<h1>Cr√©ation d'un nouvelle article</h1>


<script src="{{ asset('bundles/tgw/js/ckeditor/ckeditor.js') }}" type="text/javascript"></script>
    <script type="text/javascript">
        function openKCFinder(field) {
            window.KCFinder = {
                callBack: function(url) {
                    field.value = url;
                    window.KCFinder = null;
                }
            };
            window.open('app_dev.php/kcfinder-2.51/browse.php?type=images&dir=/upload', 'kcfinder_textbox',
                    'status=0, toolbar=0, location=0, menubar=0, directories=0, ' +
                            'resizable=1, scrollbars=0, width=800, height=600'
            );
        }
    </script>
{% if article != null %}
<form action="{{ path('tgw_admin_update_article') }}" method="POST">

    <label for="titre">Titre : </label><input type="text" name="titre" id="titre"
                                              value="{{ article.getArticleTitre }}"/>
    <br/>
    <label for="auteur">Auteur : </label><input type="text" name="auteur" id="auteur"
                                                value="{{ article.getArticleAuteur }}"/>
    <br/>
    <label for="categorie">Categorie : </label><input type="text" name="categorie" id="categorie"
                                                      value="{{ article.getArticleCategorie }}">
    <textarea id="contenuArticle" name="contenuArticle" style="width:700px;height:1000px" cols="100"
              rows="700">{{ article.getArticleContenu }}</textarea>
    <input type="hidden" value="{{ article.getId }}" name="id" id="id">
    <input type="submit" value="Enregistrer"/>
</form>


    {% else %}
<form action="{{ path('tgw_admin_creer_article') }}" method="POST">
    <label for="titre">Titre : </label><input type="text" name="titre" id="titre" />
    <br/>
    <label for="auteur">Auteur : </label><input type="text" name="auteur" id="auteur"/>
    <br/>
    <label for="categorie">Categorie : </label><input type="text" name="categorie" id="categorie" />
    <textarea id="contenuArticle" name="contenuArticle" style="width:700px;height:1000px" cols="100"rows="700"></textarea>
    <input type="submit" value="Enregistrer"/>
</form>
{% endif %}
<script type="text/javascript">
    CKEDITOR.replace('contenuArticle');
    CKEDITOR.config.width = '80%';
    CKEDITOR.config.height = '50%';
</script>
{% endblock %}
